{% extends "base.html" %}

{% block title %}{{ page.title }} - {{ app_title }}{% endblock %}

{% block content %}
<article class="page">
    <header class="page-header">
        <h1>{{ page.title }}</h1>
        <div class="page-actions">
            <a href="/page/{{ page.name.replace(' ', '_') }}/edit" class="btn">Edit</a>
        </div>
    </header>

    <div class="page-content" id="page-content">
        {{ html_content | safe }}
    </div>

    {% if backlinks %}
    <aside class="backlinks-panel">
        <h3>Pages linking here</h3>
        <ul class="backlinks-list">
            {% for link in backlinks %}
            <li>
                <a href="/page/{{ link.replace(' ', '_') }}" class="wiki-link">{{ link }}</a>
            </li>
            {% endfor %}
        </ul>
    </aside>
    {% endif %}

    {% if page.metadata.tags %}
    <footer class="page-footer">
        <div class="tags">
            {% for tag in page.metadata.tags %}
            <span class="tag">{{ tag }}</span>
            {% endfor %}
        </div>
    </footer>
    {% endif %}
</article>
{% endblock %}
