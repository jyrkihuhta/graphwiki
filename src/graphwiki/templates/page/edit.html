{% extends "base.html" %}

{% block title %}{% if page.exists %}Edit{% else %}Create{% endif %} {{ page.title }} - {{ app_title }}{% endblock %}

{% block content %}
<div class="page-edit">
    <header class="page-header">
        <h1>{% if page.exists %}Edit{% else %}Create{% endif %}: {{ page.title }}</h1>
    </header>

    <form method="post" action="/page/{{ page.name.replace(' ', '_') }}" class="edit-form">
        <div class="form-group">
            <label for="content">Content (Markdown)</label>
            <textarea
                name="content"
                id="content"
                rows="20"
                placeholder="Write your page content here...

Use Markdown for formatting:
- **bold** and *italic*
- # Headings
- [links](url)
- [[WikiLinks]] to other pages
- [[PageName|Display Text]] for custom link text"
            >{{ page.content }}</textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save</button>
            {% if page.exists %}
            <a href="/page/{{ page.name.replace(' ', '_') }}" class="btn">Cancel</a>
            {% else %}
            <a href="/" class="btn">Cancel</a>
            {% endif %}
        </div>
    </form>

    <div class="help-text">
        <h3>Wiki Link Syntax</h3>
        <ul>
            <li><code>[[PageName]]</code> - Link to another page</li>
            <li><code>[[PageName|Display Text]]</code> - Link with custom text</li>
        </ul>
    </div>
</div>
{% endblock %}
